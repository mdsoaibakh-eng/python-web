{% extends "base.html" %}

{% block title %}{{ products.title }} - Product{% endblock %}

{% block content %}
<div class="event-detail">
  <div class="detail-header">
    <h1>{{ products.title }}</h1>
    <div class="meta-info">
      <span class="meta-item">ğŸ“… {{ products.date.strftime('%A, %B %d, %Y') }}</span>
      <span class="meta-item">â° {{ products.date.strftime('%I:%M %p') }}</span>
      <span class="meta-item">ğŸ“ {{ products.location }}</span>
    </div>
  </div>

  <div class="detail-body">
    <p>{{ products.description | nl2br }}</p>
  </div>

  <div class="detail-actions">
    {% if session.get('user_id') %}
    {% if is_registered %}
    <button class="btn btn-success" disabled>âœ… Registered</button>
    {% else %}
    <form action="{{ url_for('register_products', products_id=products.id) }}" method="POST">
      <button type="submit" class="btn btn-primary btn-lg">Register Now</button>
    </form>
    {% endif %}
    {% elif session.get('admin_id') %}
    <a class="btn btn-outline" href="{{ url_for('edit', products_id=products.id) }}">Edit Product</a>
    {% else %}
    <a class="btn btn-primary" href="{{ url_for('user_login') }}">Login to Register</a>
    {% endif %}

    <a class="btn btn-text" href="{{ url_for('index') }}">â† Back to Products</a>
  </div>
</div>
{% endblock %}