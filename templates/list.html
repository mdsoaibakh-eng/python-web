{% extends "base.html" %}

{% block title %}Upcoming Products - Product{% endblock %}

{% block content %}
<div class="hero">
  <h1>Upcoming Products</h1>
  <p>Discover and register for the latest Product activities.</p>
</div>

<div class="grid">
  {% for products in products.items %}
  <article class="card product-card">
    <div class="card-header">
      <span class="event-date">{{ products.date.strftime('%b %d, %Y') }}</span>
      <span class="event-time">{{ products.date.strftime('%I:%M %p') }}</span>
    </div>
    <div class="card-body">
      <h3 class="card-title">{{ products.title }}</h3>
      <p class="event-location">üìç {{ products.location }}</p>
      <p class="event-desc">{{ products.description[:100] }}{% if products.description|length > 100 %}‚Ä¶{% endif %}</p>
    </div>
    <div class="card-actions">
      <a class="btn btn-primary" href="{{ url_for('detail', products_id=products.id) }}">View Details</a>
      {% if session.get('admin_id') %}
      <a class="btn btn-sm btn-outline" href="{{ url_for('edit', products_id=products.id) }}">Edit</a>
      <form method="post" action="{{ url_for('delete', products_id=products.id) }}"
        onsubmit="return confirm('Delete this product?');" style="display:inline;">
        <button type="submit" class="btn btn-sm btn-danger">Delete</button>
      </form>
      {% endif %}
    </div>
  </article>
  {% else %}
  <p class="no-events">No upcoming products found. Stay tuned!</p>
  {% endfor %}
</div>

<div class="pagination">
  {% if products.has_prev %}
  <a href="{{ url_for('index', page=products.prev_num) }}" class="btn btn-outline">‚Üê Prev</a>
  {% endif %}
  <span class="muted">Page {{ products.page }} of {{ products.pages }}</span>
  {% if products.has_next %}
  <a href="{{ url_for('index', page=products.next_num) }}" class="btn btn-outline">Next ‚Üí</a>
  {% endif %}
</div>
{% endblock %}